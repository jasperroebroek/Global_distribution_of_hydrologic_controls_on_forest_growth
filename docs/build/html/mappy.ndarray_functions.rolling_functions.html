

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mappy.ndarray_functions.rolling_functions module &mdash; mappy 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> mappy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">mappy.ndarray_functions.rolling_functions module</a></li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mappy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>mappy.ndarray_functions.rolling_functions module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/mappy.ndarray_functions.rolling_functions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-mappy.ndarray_functions.rolling_functions">
<span id="mappy-ndarray-functions-rolling-functions-module"></span><h1>mappy.ndarray_functions.rolling_functions module<a class="headerlink" href="#module-mappy.ndarray_functions.rolling_functions" title="Permalink to this headline">¶</a></h1>
<p>Functions to create a windowed view on the input array. Like
<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.rolling.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.rolling.html</a> but available for arrays with
unlimited dimensionality.</p>
<dl class="py function">
<dt id="mappy.ndarray_functions.rolling_functions.rolling_mean">
<code class="sig-name descname">rolling_mean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">window_size</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mappy/ndarray_functions/rolling_functions.html#rolling_mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mappy.ndarray_functions.rolling_functions.rolling_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an ndarray and returns the rolling mean. Not suitable for arrays with NaN values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – input array</p></li>
<li><p><strong>window_size</strong> (<em>int</em>) – size of the window that is applied over a. Should be bigger than 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Rolling mean over array <cite>a</cite>. Shape is slightly smaller than input array
to buffer the window size on the edges:</p>
<blockquote>
<div><p>shape : [s - window_size + 1 for s in a.shape]</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mappy.ndarray_functions.rolling_functions.rolling_sum">
<code class="sig-name descname">rolling_sum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">window_size</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mappy/ndarray_functions/rolling_functions.html#rolling_sum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mappy.ndarray_functions.rolling_functions.rolling_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an ndarray and returns the rolling sum. Not suitable for arrays with NaN values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – input array</p></li>
<li><p><strong>window_size</strong> (<em>int</em>) – size of the window that is applied over a. Should be bigger than 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Rolling sum over array <cite>a</cite>. Shape is slightly smaller than input array
to buffer the window size on the edges:</p>
<blockquote>
<div><p>shape : [s - window_size + 1 for s in a.shape]</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mappy.ndarray_functions.rolling_functions.rolling_window">
<code class="sig-name descname">rolling_window</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">window_size</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">flatten</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">reduce</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mappy/ndarray_functions/rolling_functions.html#rolling_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mappy.ndarray_functions.rolling_functions.rolling_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a ndarray and returns a windowed version of that same array</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>a</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>) – Input array</p></li>
<li><p><strong>window_size</strong> (<em>int</em>) – Size of the window that is applied over ndarray a. Should be bigger than 1.</p></li>
<li><p><strong>flatten</strong> (<em>bool, optional</em>) –</p>
<dl class="simple">
<dt>Flag to flatten the windowed view to 1 dimension. The shape of the returned array if set to True will be:</dt><dd><dl class="simple">
<dt><em>reduce</em> == False:</dt><dd><p>shape : [s - window_size + 1 for s in a.shape] + [window_size ^ a.ndim]</p>
</dd>
<dt><em>reduce</em> == True:</dt><dd><p>shape : [s // window_size for s in a.shape] + [window_size ^ a.ndim]</p>
</dd>
</dl>
</dd>
</dl>
<p>If set to False (which is the default) the shape of the window will not change and the data will be added in as
many dimensions as the input array. The shape will be:</p>
<blockquote>
<div><dl class="simple">
<dt><em>reduce</em> == False:</dt><dd><p>shape : [s - window_size + 1 for s in a.shape] + [window_size] * a.ndim</p>
</dd>
<dt><em>reduce</em> == True:</dt><dd><p>shape : [s // window_size for s in a.shape] + [window_size] * a.ndim</p>
</dd>
</dl>
</div></blockquote>
<p>False has the nice property of returning a view, not copying the data while if True is passed, all the data will
be copied. This can be very slow and memory intensive for large arrays.</p>
</li>
<li><p><strong>reduce</strong> (<em>bool, optional</em>) – Reuse data if set to False (which is the default) in which case an array will be returned with dimensions that
are close to the original; see <em>flatten</em>. If set to true, every entry is used exactly once. Creating  much
smaller dimensions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>strided_a</strong> – windowed array of the data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – <ul class="simple">
<li><p>window_size too bigger than on of the dimensions of the input array
    - if reduce is True, the window_size needs to be an exact divisor for all dimensions of the input array</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Jasper Roebroek

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>